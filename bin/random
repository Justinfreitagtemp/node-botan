#!/usr/bin/env coffee

usage = 'Usage: $0 -s [num] -h -b'
demand = ['s']
aliases = size: 's', hex: 'h', base64: 'b'
argv = require('optimist').usage(usage).alias(aliases).demand(demand).argv

type = if argv.h? then 'hex' else 'base64'

if argv.s > 0
  require(__dirname + '/../build/Release/node-botan').generateRandomBytes type, argv.s, (error, bytes) ->
    if error? then return throw error
    console.log bytes

